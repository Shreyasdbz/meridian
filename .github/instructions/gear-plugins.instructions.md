---
applyTo: "packages/gear/**"
---

# Gear Plugin Conventions

- Every Gear MUST have a `GearManifest` declaring identity, actions, permissions, and resources
- Gear code runs in isolated sandbox (process or container), NEVER in the main process
- Gear uses ONLY the `GearContext` API: `params`, `getSecret()`, `readFile()`, `writeFile()`, `listFiles()`, `fetch()`, `log()`, `progress()`, `createSubJob()`
- No `process`, `require('child_process')`, or raw filesystem access in Gear code
- Permissions are enforced at runtime â€” undeclared capabilities are blocked
- Three Gear origins: `'builtin'` (ships with Meridian), `'user'` (manually installed), `'journal'` (auto-generated by Journal's Gear Synthesizer)
- Journal-generated Gear starts as `draft: true` and requires user approval
- Built-in Gear lives in `packages/gear/builtin/`
- Each action declares a `riskLevel`: `'low'` | `'medium'` | `'high'` | `'critical'`
