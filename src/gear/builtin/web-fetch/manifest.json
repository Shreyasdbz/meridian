{
  "id": "web-fetch",
  "name": "Web Fetch",
  "version": "1.0.0",
  "description": "Built-in Gear for fetching web pages and JSON APIs over HTTPS. Supports HTML content retrieval with optional text extraction and JSON parsing.",
  "author": "Meridian",
  "license": "Apache-2.0",
  "origin": "builtin",
  "checksum": "builtin",
  "actions": [
    {
      "name": "fetch_page",
      "description": "Fetch a web page and return its HTML content, with optional text extraction that strips HTML tags",
      "parameters": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string",
            "description": "The HTTPS URL to fetch"
          },
          "extractText": {
            "type": "boolean",
            "description": "If true, strip HTML tags and return plain text (default: false)"
          },
          "maxSizeBytes": {
            "type": "number",
            "description": "Maximum response size in bytes (default: 5242880 = 5MB)"
          }
        },
        "required": ["url"],
        "additionalProperties": false
      },
      "returns": {
        "type": "object",
        "properties": {
          "content": {
            "type": "string",
            "description": "Page content (HTML or extracted text)"
          },
          "contentType": {
            "type": "string",
            "description": "Content-Type header from the response"
          },
          "statusCode": {
            "type": "number",
            "description": "HTTP status code"
          },
          "byteLength": {
            "type": "number",
            "description": "Response body size in bytes"
          },
          "sourceUrl": {
            "type": "string",
            "description": "The URL that was fetched (content traceability)"
          },
          "fetchedAt": {
            "type": "string",
            "description": "ISO 8601 timestamp of when the content was fetched"
          }
        },
        "required": ["content", "contentType", "statusCode", "byteLength", "sourceUrl", "fetchedAt"]
      },
      "riskLevel": "low"
    },
    {
      "name": "fetch_json",
      "description": "Fetch a URL and parse the response as JSON",
      "parameters": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string",
            "description": "The HTTPS URL to fetch"
          },
          "method": {
            "type": "string",
            "description": "HTTP method (default: GET)",
            "enum": ["GET", "POST", "PUT", "PATCH", "DELETE"]
          },
          "headers": {
            "type": "object",
            "description": "Additional HTTP headers to send",
            "additionalProperties": {
              "type": "string"
            }
          },
          "body": {
            "type": "string",
            "description": "Request body (for POST/PUT/PATCH)"
          },
          "maxSizeBytes": {
            "type": "number",
            "description": "Maximum response size in bytes (default: 5242880 = 5MB)"
          }
        },
        "required": ["url"],
        "additionalProperties": false
      },
      "returns": {
        "type": "object",
        "properties": {
          "data": {
            "description": "Parsed JSON response (object, array, string, number, boolean, or null)"
          },
          "statusCode": {
            "type": "number",
            "description": "HTTP status code"
          },
          "byteLength": {
            "type": "number",
            "description": "Response body size in bytes"
          },
          "sourceUrl": {
            "type": "string",
            "description": "The URL that was fetched (content traceability)"
          },
          "fetchedAt": {
            "type": "string",
            "description": "ISO 8601 timestamp of when the content was fetched"
          }
        },
        "required": ["data", "statusCode", "byteLength", "sourceUrl", "fetchedAt"]
      },
      "riskLevel": "low"
    }
  ],
  "permissions": {
    "network": {
      "domains": ["*"],
      "protocols": ["https"]
    }
  },
  "resources": {
    "maxMemoryMb": 128,
    "maxCpuPercent": 25,
    "timeoutMs": 30000
  }
}
